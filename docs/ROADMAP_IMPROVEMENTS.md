# –î–û–†–û–ñ–ù–ê–Ø –ö–ê–†–¢–ê –£–õ–£–ß–®–ï–ù–ò–ô AI CITI

> **–î–∞—Ç–∞ —Å–æ–∑–¥–∞–Ω–∏—è:** 24 —è–Ω–≤–∞—Ä—è 2026
> **–°—Ç–∞—Ç—É—Å:** –í —Ä–∞–±–æ—Ç–µ

---

## –ü–†–ê–í–ò–õ–ê –î–õ–Ø AI –ê–ì–ï–ù–¢–û–í

**–ß–ò–¢–ê–ô –≠–¢–û –ü–ï–†–í–´–ú!**

1. **–ü–µ—Ä–µ–¥ –Ω–∞—á–∞–ª–æ–º —Ä–∞–±–æ—Ç—ã** ‚Äî –ø—Ä–æ—á–∏—Ç–∞–π —ç—Ç–æ—Ç —Ñ–∞–π–ª
2. **–ö–æ–≥–¥–∞ –±–µ—Ä—ë—à—å –∑–∞–¥–∞—á—É** ‚Äî –æ—Ç–º–µ—Ç—å `üîÑ –í —Ä–∞–±–æ—Ç–µ (@–ò–º—è–ê–≥–µ–Ω—Ç–∞)`
3. **–ö–æ–≥–¥–∞ –∑–∞–∫–æ–Ω—á–∏–ª** ‚Äî –æ—Ç–º–µ—Ç—å `‚úÖ –ì–æ—Ç–æ–≤–æ (@–ò–º—è–ê–≥–µ–Ω—Ç–∞, –¥–∞—Ç–∞)`
4. **–ï—Å–ª–∏ –∑–∞–¥–∞—á–∞ –∑–∞–Ω—è—Ç–∞** ‚Äî –ù–ï –ë–ï–†–ò –ï–Å, –≤–æ–∑—å–º–∏ –¥—Ä—É–≥—É—é
5. **–ü–æ—Å–ª–µ –∏–∑–º–µ–Ω–µ–Ω–∏–π** ‚Äî –∑–∞–∫–æ–º–º–∏—Ç—å —ç—Ç–æ—Ç —Ñ–∞–π–ª

**–§–æ—Ä–º–∞—Ç –æ—Ç–º–µ—Ç–∫–∏:**
```
- [ ] –ó–∞–¥–∞—á–∞                           ‚Üê —Å–≤–æ–±–æ–¥–Ω–∞, –º–æ–∂–Ω–æ –±—Ä–∞—Ç—å
- [üîÑ] –ó–∞–¥–∞—á–∞ ‚Äî @Claude, 24.01         ‚Üê –≤ —Ä–∞–±–æ—Ç–µ, –ù–ï –ë–†–ê–¢–¨
- [x] –ó–∞–¥–∞—á–∞ ‚Äî @Claude, 24.01          ‚Üê –≥–æ—Ç–æ–≤–æ
```

---

## –ü–†–û–ì–†–ï–°–°

| –§–∞–∑–∞ | –ó–∞–¥–∞—á | –ì–æ—Ç–æ–≤–æ | –°—Ç–∞—Ç—É—Å |
|------|-------|--------|--------|
| 1. –ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å | 4 | 0 | ‚è≥ –ñ–¥—ë—Ç |
| 2. –ü—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å | 3 | 0 | ‚è≥ –ñ–¥—ë—Ç |
| 3. UX –∏ –ö–æ–Ω–≤–µ—Ä—Å–∏—è | 4 | 0 | ‚è≥ –ñ–¥—ë—Ç |
| 4. –ü–æ–¥–∞—Ä–æ—á–Ω—ã–µ –º–æ–Ω–µ—Ç—ã | 5 | 0 | ‚è≥ –ñ–¥—ë—Ç |
| 5. –†–µ—Ñ–∞–∫—Ç–æ—Ä–∏–Ω–≥ | 3 | 0 | ‚è≥ –ñ–¥—ë—Ç |

---

## –§–ê–ó–ê 1: –ë–ï–ó–û–ü–ê–°–ù–û–°–¢–¨ (–ö–†–ò–¢–ò–ß–ù–û) ‚Äî –î–ï–õ–ê–¢–¨ –ü–ï–†–í–û–ô!

### 1.1 –£–±—Ä–∞—Ç—å –ø–∞—Ä–æ–ª—å –∞–¥–º–∏–Ω–∞ –∏–∑ –∫–æ–¥–∞
**–°—Ç–∞—Ç—É—Å:** ‚è≥ –°–≤–æ–±–æ–¥–Ω–∞
**–ò—Å–ø–æ–ª–Ω–∏—Ç–µ–ª—å:** ‚Äî

- [ ] –£–¥–∞–ª–∏—Ç—å –ø—Ä–æ–≤–µ—Ä–∫—É –ø–∞—Ä–æ–ª—è –≤ `src/hooks/useAdminAuth.ts`
- [ ] –£–¥–∞–ª–∏—Ç—å —Ñ–æ—Ä–º—É –ª–æ–≥–∏–Ω–∞ `src/pages/admin/Login.tsx`
- [ ] –í—Ö–æ–¥ –ø–æ Telegram ID (ADMIN_IDS)
- [ ] –ü—Ä–æ—Ç–µ—Å—Ç–∏—Ä–æ–≤–∞—Ç—å: –∞–¥–º–∏–Ω-–ø–∞–Ω–µ–ª—å –æ—Ç–∫—Ä—ã–≤–∞–µ—Ç—Å—è –±–µ–∑ –ø–∞—Ä–æ–ª—è

**–ü–æ—á–µ–º—É:** –ü–∞—Ä–æ–ª—å `adminsibbek199031` –≤–∏–¥–µ–Ω –≤ –±—Ä–∞—É–∑–µ—Ä–µ.

**–§–∞–π–ª—ã:** `src/hooks/useAdminAuth.ts`, `src/pages/admin/Login.tsx`

---

### 1.2 –ü–µ—Ä–µ–Ω–µ—Å—Ç–∏ –∫–ª—é—á–∏ Cloudinary
**–°—Ç–∞—Ç—É—Å:** ‚è≥ –°–≤–æ–±–æ–¥–Ω–∞
**–ò—Å–ø–æ–ª–Ω–∏—Ç–µ–ª—å:** ‚Äî

- [ ] –î–æ–±–∞–≤–∏—Ç—å —Å–µ–∫—Ä–µ—Ç—ã: `supabase secrets set CLOUDINARY_API_KEY=329318552456676 CLOUDINARY_API_SECRET=1W-H9NYn1vOxwshd7S6iug3JcWk`
- [ ] –û–±–Ω–æ–≤–∏—Ç—å `supabase/functions/delete-cloudinary-photo/index.ts`
- [ ] –ó–∞–¥–µ–ø–ª–æ–∏—Ç—å: `supabase functions deploy delete-cloudinary-photo`
- [ ] –ü—Ä–æ—Ç–µ—Å—Ç–∏—Ä–æ–≤–∞—Ç—å —É–¥–∞–ª–µ–Ω–∏–µ —Ñ–æ—Ç–æ

**–ü–æ—á–µ–º—É:** API Secret –≤–∏–¥–µ–Ω –≤ –∫–æ–¥–µ Edge Function.

**–§–∞–π–ª—ã:** `supabase/functions/delete-cloudinary-photo/index.ts`

---

### 1.3 –ò—Å–ø—Ä–∞–≤–∏—Ç—å RLS –ø–æ–ª–∏—Ç–∏–∫–∏
**–°—Ç–∞—Ç—É—Å:** ‚è≥ –°–≤–æ–±–æ–¥–Ω–∞
**–ò—Å–ø–æ–ª–Ω–∏—Ç–µ–ª—å:** ‚Äî

- [ ] –ú–∏–≥—Ä–∞—Ü–∏—è `025_fix_user_photo_gallery_rls.sql`
- [ ] –ú–∏–≥—Ä–∞—Ü–∏—è `026_fix_payments_rls.sql`
- [ ] –ú–∏–≥—Ä–∞—Ü–∏—è `027_fix_profiles_rls.sql`
- [ ] –ú–∏–≥—Ä–∞—Ü–∏—è `028_fix_referrals_rls.sql`
- [ ] –ü—Ä–∏–º–µ–Ω–∏—Ç—å: `supabase db push`
- [ ] –¢–µ—Å—Ç: —é–∑–µ—Ä –Ω–µ –≤–∏–¥–∏—Ç —á—É–∂–∏–µ –¥–∞–Ω–Ω—ã–µ

**–ü–æ—á–µ–º—É:** 17 –ø–æ–ª–∏—Ç–∏–∫ —Å `USING (true)` ‚Äî –ª—é–±–æ–π –≤–∏–¥–∏—Ç –≤—Å—ë.

**–¢–∞–±–ª–∏—Ü—ã:** `user_photo_gallery`, `payments`, `users`, `profiles`, `referrals`, `referral_stats`, `payment_emails`

---

### 1.4 –¶–µ–Ω—Ç—Ä–∞–ª–∏–∑–æ–≤–∞—Ç—å ADMIN_IDS
**–°—Ç–∞—Ç—É—Å:** ‚è≥ –°–≤–æ–±–æ–¥–Ω–∞
**–ò—Å–ø–æ–ª–Ω–∏—Ç–µ–ª—å:** ‚Äî

- [ ] –°–æ–∑–¥–∞—Ç—å `src/config/admins.ts`
- [ ] –û–±–Ω–æ–≤–∏—Ç—å `src/pages/Agents.tsx`
- [ ] –û–±–Ω–æ–≤–∏—Ç—å `src/hooks/useAdminAuth.ts`
- [ ] –û–±–Ω–æ–≤–∏—Ç—å `src/pages/admin/*`

**–ü–æ—á–µ–º—É:** ADMIN_IDS –≤ 4 —Ä–∞–∑–Ω—ã—Ö —Ñ–∞–π–ª–∞—Ö.

**–°–æ–∑–¥–∞—Ç—å:**
```typescript
// src/config/admins.ts
export const ADMIN_IDS = [643763835, 190202791]
export const isAdmin = (id: number) => ADMIN_IDS.includes(id)
```

---

## –§–ê–ó–ê 2: –ü–†–û–ò–ó–í–û–î–ò–¢–ï–õ–¨–ù–û–°–¢–¨

### 2.1 –î–æ–±–∞–≤–∏—Ç—å Lazy Loading
**–°—Ç–∞—Ç—É—Å:** ‚è≥ –°–≤–æ–±–æ–¥–Ω–∞
**–ò—Å–ø–æ–ª–Ω–∏—Ç–µ–ª—å:** ‚Äî

- [ ] –û–±–Ω–æ–≤–∏—Ç—å `src/App.tsx` ‚Äî `React.lazy()` + `Suspense`
- [ ] –°–æ–∑–¥–∞—Ç—å Loading –∫–æ–º–ø–æ–Ω–µ–Ω—Ç
- [ ] –¢–µ—Å—Ç: chunk-—Ñ–∞–π–ª—ã –≤ Network

**–§–∞–π–ª—ã:** `src/App.tsx`

---

### 2.2 –ö—ç—à–∏—Ä–æ–≤–∞–Ω–∏–µ –∑–∞–ø—Ä–æ—Å–æ–≤
**–°—Ç–∞—Ç—É—Å:** ‚è≥ –°–≤–æ–±–æ–¥–Ω–∞
**–ò—Å–ø–æ–ª–Ω–∏—Ç–µ–ª—å:** ‚Äî

- [ ] QueryClient: `staleTime: 5 * 60 * 1000`
- [ ] –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –≤—Å–µ `useQuery`
- [ ] –¢–µ—Å—Ç: –¥–∞–Ω–Ω—ã–µ –∏–∑ –∫—ç—à–∞ –ø—Ä–∏ –≤–æ–∑–≤—Ä–∞—Ç–µ

**–§–∞–π–ª—ã:** `src/lib/queryClient.ts`, —Ö—É–∫–∏

---

### 2.3 –û–ø—Ç–∏–º–∏–∑–∏—Ä–æ–≤–∞—Ç—å –∫–≤–∏–∑—ã (N+1)
**–°—Ç–∞—Ç—É—Å:** ‚è≥ –°–≤–æ–±–æ–¥–Ω–∞
**–ò—Å–ø–æ–ª–Ω–∏—Ç–µ–ª—å:** ‚Äî

- [ ] –û–±—ä–µ–¥–∏–Ω–∏—Ç—å –∑–∞–ø—Ä–æ—Å—ã –≤ `src/hooks/useQuizzes.ts`
- [ ] –¢–µ—Å—Ç: 1 –∑–∞–ø—Ä–æ—Å –≤–º–µ—Å—Ç–æ 3

---

## –§–ê–ó–ê 3: UX –ò –ö–û–ù–í–ï–†–°–ò–Ø

### 3.1 alert() ‚Üí Toast
**–°—Ç–∞—Ç—É—Å:** ‚è≥ –°–≤–æ–±–æ–¥–Ω–∞
**–ò—Å–ø–æ–ª–Ω–∏—Ç–µ–ª—å:** ‚Äî

- [ ] –ù–∞–π—Ç–∏ –≤—Å–µ `alert(`
- [ ] –ó–∞–º–µ–Ω–∏—Ç—å –Ω–∞ `toast()` (Sonner)
- [ ] –¢–µ—Å—Ç: –Ω–µ—Ç alert, —Ç–æ–ª—å–∫–æ toast

**–§–∞–π–ª—ã:** `carousel/index.tsx`, `admin/*.tsx`

---

### 3.2 Haptic Feedback
**–°—Ç–∞—Ç—É—Å:** ‚è≥ –°–≤–æ–±–æ–¥–Ω–∞
**–ò—Å–ø–æ–ª–Ω–∏—Ç–µ–ª—å:** ‚Äî

- [ ] –°–æ–∑–¥–∞—Ç—å `src/lib/haptic.ts`
- [ ] –î–æ–±–∞–≤–∏—Ç—å –Ω–∞ –∫–Ω–æ–ø–∫–∏
- [ ] –¢–µ—Å—Ç: –≤–∏–±—Ä–∞—Ü–∏—è –ø—Ä–∏ –Ω–∞–∂–∞—Ç–∏–∏

**–ö–æ–¥:**
```typescript
import WebApp from '@twa-dev/sdk'
export const haptic = {
  light: () => WebApp.HapticFeedback.impactOccurred('light'),
  medium: () => WebApp.HapticFeedback.impactOccurred('medium'),
  success: () => WebApp.HapticFeedback.notificationOccurred('success'),
}
```

---

### 3.3 –†–µ—Ñ–µ—Ä–∞–ª—ã –Ω–∞ –≥–ª–∞–≤–Ω—É—é
**–°—Ç–∞—Ç—É—Å:** ‚è≥ –°–≤–æ–±–æ–¥–Ω–∞
**–ò—Å–ø–æ–ª–Ω–∏—Ç–µ–ª—å:** ‚Äî

- [ ] –°–æ–∑–¥–∞—Ç—å `src/components/ReferralCard.tsx`
- [ ] –î–æ–±–∞–≤–∏—Ç—å –Ω–∞ `src/pages/Home.tsx`
- [ ] –¢–µ—Å—Ç: –∫–∞—Ä—Ç–æ—á–∫–∞ –≤–∏–¥–Ω–∞

---

### 3.4 –¢–∏–∑–µ—Ä—ã "10 —Ñ–µ–≤—Ä–∞–ª—è"
**–°—Ç–∞—Ç—É—Å:** ‚è≥ –°–≤–æ–±–æ–¥–Ω–∞
**–ò—Å–ø–æ–ª–Ω–∏—Ç–µ–ª—å:** ‚Äî

- [ ] `src/pages/Agents.tsx` ‚Äî AI FERMA ‚Üí "–ó–∞–ø—É—Å–∫ 10 —Ñ–µ–≤—Ä–∞–ª—è"
- [ ] –ö—Ä–∞—Å–∏–≤—ã–π –¥–∏–∑–∞–π–Ω —Ç–∏–∑–µ—Ä–∞
- [ ] –¢–µ—Å—Ç: –Ω–µ—Ç "–°–∫–æ—Ä–æ", –µ—Å—Ç—å –¥–∞—Ç–∞

---

## –§–ê–ó–ê 4: –ü–û–î–ê–†–û–ß–ù–´–ï –ú–û–ù–ï–¢–´

### 4.1 –ë–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö Gift Coins
**–°—Ç–∞—Ç—É—Å:** ‚è≥ –°–≤–æ–±–æ–¥–Ω–∞
**–ò—Å–ø–æ–ª–Ω–∏—Ç–µ–ª—å:** ‚Äî

- [ ] –ú–∏–≥—Ä–∞—Ü–∏—è `030_gift_coins.sql`:
  - `profiles.gift_coins`
  - –¢–∞–±–ª–∏—Ü–∞ `promo_codes`
  - –§—É–Ω–∫—Ü–∏–∏ `add_gift_coins`, `spend_gift_coins`
- [ ] –ü—Ä–∏–º–µ–Ω–∏—Ç—å –º–∏–≥—Ä–∞—Ü–∏—é

**SQL:**
```sql
ALTER TABLE profiles ADD COLUMN gift_coins INTEGER DEFAULT 0;

CREATE TABLE promo_codes (
  code TEXT PRIMARY KEY,
  gift_coins INTEGER NOT NULL,
  max_uses INTEGER,
  current_uses INTEGER DEFAULT 0,
  expires_at TIMESTAMPTZ
);
```

---

### 4.2 –õ–æ–≥–∏–∫–∞ —Å–ø–∏—Å–∞–Ω–∏—è
**–°—Ç–∞—Ç—É—Å:** ‚è≥ –°–≤–æ–±–æ–¥–Ω–∞
**–ò—Å–ø–æ–ª–Ω–∏—Ç–µ–ª—å:** ‚Äî

- [ ] –ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç: —Å–Ω–∞—á–∞–ª–∞ gift_coins, –ø–æ—Ç–æ–º coins
- [ ] –û–±–Ω–æ–≤–∏—Ç—å `spend_coins` –≤ –ë–î
- [ ] –û–±–Ω–æ–≤–∏—Ç—å `src/lib/supabase.ts`

---

### 4.3 Welcome Bonus (10 –º–æ–Ω–µ—Ç)
**–°—Ç–∞—Ç—É—Å:** ‚è≥ –°–≤–æ–±–æ–¥–Ω–∞
**–ò—Å–ø–æ–ª–Ω–∏—Ç–µ–ª—å:** ‚Äî

- [ ] –¢—Ä–∏–≥–≥–µ—Ä: –Ω–æ–≤—ã–π —é–∑–µ—Ä ‚Üí 10 gift_coins
- [ ] –ü—Ä–∏–≤–µ—Ç—Å—Ç–≤–∏–µ –≤ `authStore.ts`

---

### 4.4 UI Gift Coins
**–°—Ç–∞—Ç—É—Å:** ‚è≥ –°–≤–æ–±–æ–¥–Ω–∞
**–ò—Å–ø–æ–ª–Ω–∏—Ç–µ–ª—å:** ‚Äî

- [ ] `src/components/GiftCoinsBalance.tsx`
- [ ] `src/pages/PromoCode.tsx`
- [ ] –ü–æ–∫–∞–∑ –±–∞–ª–∞–Ω—Å–∞ –≤–µ–∑–¥–µ

---

### 4.5 –ê–¥–º–∏–Ω–∫–∞ –ø—Ä–æ–º–æ–∫–æ–¥–æ–≤
**–°—Ç–∞—Ç—É—Å:** ‚è≥ –°–≤–æ–±–æ–¥–Ω–∞
**–ò—Å–ø–æ–ª–Ω–∏—Ç–µ–ª—å:** ‚Äî

- [ ] `src/pages/admin/PromoCodes.tsx`
- [ ] CRUD: —Å–æ–∑–¥–∞—Ç—å, —É–¥–∞–ª–∏—Ç—å, —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞
- [ ] –†–æ—É—Ç–∏–Ω–≥ –∞–¥–º–∏–Ω–∫–∏

---

## –§–ê–ó–ê 5: –†–ï–§–ê–ö–¢–û–†–ò–ù–ì

### 5.1 –†–∞–∑–±–∏—Ç—å mini-admin (1193 —Å—Ç—Ä–æ–∫–∏)
**–°—Ç–∞—Ç—É—Å:** ‚è≥ –°–≤–æ–±–æ–¥–Ω–∞
**–ò—Å–ø–æ–ª–Ω–∏—Ç–µ–ª—å:** ‚Äî

- [ ] `src/pages/mini-admin/components/UserTable.tsx`
- [ ] `src/pages/mini-admin/components/UserFilters.tsx`
- [ ] `src/pages/mini-admin/components/UserStats.tsx`
- [ ] –ì–ª–∞–≤–Ω—ã–π —Ñ–∞–π–ª < 100 —Å—Ç—Ä–æ–∫

---

### 5.2 –†–∞–∑–±–∏—Ç—å carousel (797 —Å—Ç—Ä–æ–∫)
**–°—Ç–∞—Ç—É—Å:** ‚è≥ –°–≤–æ–±–æ–¥–Ω–∞
**–ò—Å–ø–æ–ª–Ω–∏—Ç–µ–ª—å:** ‚Äî

- [ ] –í—ã–Ω–µ—Å—Ç–∏ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã
- [ ] –ì–ª–∞–≤–Ω—ã–π —Ñ–∞–π–ª < 150 —Å—Ç—Ä–æ–∫

---

### 5.3 –†–∞–∑–±–∏—Ç—å ClientsTab (714 —Å—Ç—Ä–æ–∫)
**–°—Ç–∞—Ç—É—Å:** ‚è≥ –°–≤–æ–±–æ–¥–Ω–∞
**–ò—Å–ø–æ–ª–Ω–∏—Ç–µ–ª—å:** ‚Äî

- [ ] –ê–Ω–∞–ª–æ–≥–∏—á–Ω–æ —Ä–∞–∑–±–∏—Ç—å

---

## –ò–°–¢–û–†–ò–Ø –ò–ó–ú–ï–ù–ï–ù–ò–ô

| –î–∞—Ç–∞ | –ö—Ç–æ | –ß—Ç–æ —Å–¥–µ–ª–∞–ª |
|------|-----|------------|
| 24.01.2026 | @Claude | –°–æ–∑–¥–∞–ª roadmap |

---

**–ü–æ—Å–ª–µ–¥–Ω–µ–µ –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ:** 24.01.2026
