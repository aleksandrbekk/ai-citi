# ‚úÖ –ü–†–û–í–ï–†–ö–ê –ë–ò–õ–õ–ò–ù–ì–ê –ò –ë–ï–°–ü–õ–ê–¢–ù–û–ì–û –¢–ò–†–ê

**–î–∞—Ç–∞ –ø—Ä–æ–≤–µ—Ä–∫–∏:** 2026-01-27  
**–ü—Ä–æ–µ–∫—Ç:** `gen-lang-client-0102901194`  
**–ë–∏–ª–ª–∏–Ω–≥ –∞–∫–∫–∞—É–Ω—Ç:** `01DB30-E9BEE6-19F55A` (–ë–ê–ù–ì–ö–û–ì –ë–ê–ù–ö)

---

## üìä –¢–ï–ö–£–©–ê–Ø –ö–û–ù–§–ò–ì–£–†–ê–¶–ò–Ø

### ‚úÖ –ù–∞—Å—Ç—Ä–æ–π–∫–∏ –º–æ–¥–µ–ª–µ–π –≤ –∫–æ–¥–µ:

```typescript
// supabase/functions/gemini-chat/index.ts
DEFAULTS = {
  premiumModel: "gemini-2.5-pro",    // –ü–õ–ê–¢–ù–ê–Ø –º–æ–¥–µ–ª—å
  freeModel: "gemini-2.5-flash",      // –ë–ï–°–ü–õ–ê–¢–ù–ê–Ø –º–æ–¥–µ–ª—å ‚úÖ
  fallbackModel: "gemini-2.5-flash",  // –ë–ï–°–ü–õ–ê–¢–ù–ê–Ø –º–æ–¥–µ–ª—å ‚úÖ
}
```

### ‚úÖ –õ–æ–≥–∏–∫–∞ –≤—ã–±–æ—Ä–∞ –º–æ–¥–µ–ª–∏:

```typescript
// –°—Ç—Ä–æ–∫–∞ 368
const primaryModel = limitInfo.isPremium ? settings.premium_model : settings.free_model
```

**–ö–∞–∫ —Ä–∞–±–æ—Ç–∞–µ—Ç:**
- **Premium –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–∏** (Pro, VIP, Elite) ‚Üí `gemini-2.5-pro` (–ø–ª–∞—Ç–Ω–∞—è)
- **Free –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–∏** (Basic) ‚Üí `gemini-2.5-flash` (–±–µ—Å–ø–ª–∞—Ç–Ω–∞—è) ‚úÖ
- **Fallback** ‚Üí `gemini-2.5-flash` (–±–µ—Å–ø–ª–∞—Ç–Ω–∞—è) ‚úÖ

---

## üí∞ –ë–ï–°–ü–õ–ê–¢–ù–´–ï –ö–†–ï–î–ò–¢–´ GOOGLE CLOUD

### –ß—Ç–æ –¥–æ—Å—Ç—É–ø–Ω–æ:

1. **$300 –±–µ—Å–ø–ª–∞—Ç–Ω—ã—Ö –∫—Ä–µ–¥–∏—Ç–æ–≤** –¥–ª—è –Ω–æ–≤—ã—Ö –∫–ª–∏–µ–Ω—Ç–æ–≤
   - –î–µ–π—Å—Ç–≤—É—é—Ç 90 –¥–Ω–µ–π
   - –ú–æ–∂–Ω–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –Ω–∞ Vertex AI

2. **Express Mode Free Trial** (–¥–ª—è @gmail.com –∞–∫–∫–∞—É–Ω—Ç–æ–≤)
   - 90 –¥–Ω–µ–π –±–µ—Å–ø–ª–∞—Ç–Ω–æ
   - –ë–µ–∑ –±–∏–ª–ª–∏–Ω–≥–∞
   - –û–≥—Ä–∞–Ω–∏—á–µ–Ω–Ω—ã–µ –∫–≤–æ—Ç—ã

3. **Gemini 2.5 Flash** ‚Äî –¥–µ—à—ë–≤–∞—è –º–æ–¥–µ–ª—å
   - ~$0.0001 –∑–∞ 1,000 —Å–∏–º–≤–æ–ª–æ–≤
   - –ú–µ–Ω—å—à–µ —á–µ–º Pro –º–æ–¥–µ–ª—å

---

## ‚úÖ –ü–†–û–í–ï–†–ö–ê: –í–°–Å –ü–†–ê–í–ò–õ–¨–ù–û –ù–ê–°–¢–†–û–ï–ù–û!

### 1. **–ë–µ—Å–ø–ª–∞—Ç–Ω—ã–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–∏ –∏—Å–ø–æ–ª—å–∑—É—é—Ç Flash** ‚úÖ

```typescript
// –ï—Å–ª–∏ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å Basic (–±–µ—Å–ø–ª–∞—Ç–Ω—ã–π)
isPremium = false
‚Üí –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è free_model = "gemini-2.5-flash" ‚úÖ
```

### 2. **Fallback —Ç–æ–∂–µ Flash** ‚úÖ

```typescript
// –ï—Å–ª–∏ –æ—Å–Ω–æ–≤–Ω–∞—è –º–æ–¥–µ–ª—å –Ω–µ —Ä–∞–±–æ—Ç–∞–µ—Ç
fallback_model = "gemini-2.5-flash" ‚úÖ
```

### 3. **–¢–æ–ª—å–∫–æ Premium –ø–ª–∞—Ç—è—Ç –∑–∞ Pro** ‚úÖ

```typescript
// –¢–æ–ª—å–∫–æ –ø–ª–∞—Ç–Ω—ã–µ —Ç–∞—Ä–∏—Ñ—ã –∏—Å–ø–æ–ª—å–∑—É—é—Ç –¥–æ—Ä–æ–≥—É—é –º–æ–¥–µ–ª—å
if (isPremium) {
  model = "gemini-2.5-pro" // –ü–ª–∞—Ç–Ω–æ
}
```

---

## üìà –†–ï–ö–û–ú–ï–ù–î–ê–¶–ò–ò –î–õ–Ø –ú–ê–ö–°–ò–ú–ê–õ–¨–ù–û–ô –≠–ö–û–ù–û–ú–ò–ò

### ‚úÖ –£–∂–µ —Å–¥–µ–ª–∞–Ω–æ –ø—Ä–∞–≤–∏–ª—å–Ω–æ:

1. **Free –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–∏ ‚Üí Flash** (–¥–µ—à—ë–≤–∞—è –º–æ–¥–µ–ª—å)
2. **Fallback ‚Üí Flash** (–µ—Å–ª–∏ Pro –Ω–µ —Ä–∞–±–æ—Ç–∞–µ—Ç)
3. **–õ–∏–º–∏—Ç—ã –ø–æ —Ç–∞—Ä–∏—Ñ–∞–º** (–æ–≥—Ä–∞–Ω–∏—á–∏–≤–∞—é—Ç –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ)

### üí° –î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–µ –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏–∏:

1. **–ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å Flash –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é –¥–ª—è –≤—Å–µ—Ö** (–µ—Å–ª–∏ –Ω–µ –∫—Ä–∏—Ç–∏—á–Ω–æ –∫–∞—á–µ—Å—Ç–≤–æ)
   ```typescript
   // –í –∞–¥–º–∏–Ω–∫–µ –º–æ–∂–Ω–æ –∏–∑–º–µ–Ω–∏—Ç—å:
   premium_model: "gemini-2.5-flash" // –í–º–µ—Å—Ç–æ Pro
   ```

2. **–ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è**
   - –ü—Ä–æ–≤–µ—Ä—è—Ç—å `chat_usage` —Ç–∞–±–ª–∏—Ü—É
   - –°–º–æ—Ç—Ä–µ—Ç—å —Å—Ç–æ–∏–º–æ—Å—Ç—å –≤ Google Cloud Console

3. **–ù–∞—Å—Ç—Ä–æ–∏—Ç—å –∞–ª–µ—Ä—Ç—ã**
   - –ö–æ–≥–¥–∞ –∫—Ä–µ–¥–∏—Ç—ã –∑–∞–∫–∞–Ω—á–∏–≤–∞—é—Ç—Å—è
   - –ö–æ–≥–¥–∞ –ø—Ä–µ–≤—ã—à–µ–Ω –ª–∏–º–∏—Ç

---

## üîç –ö–ê–ö –ü–†–û–í–ï–†–ò–¢–¨ –ò–°–ü–û–õ–¨–ó–û–í–ê–ù–ò–ï

### 1. –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ –≤ Google Cloud Console:

```bash
# –û—Ç–∫—Ä—ã—Ç—å –∫–æ–Ω—Å–æ–ª—å
https://console.cloud.google.com/billing/01DB30-E9BEE6-19F55A/reports?project=gen-lang-client-0102901194
```

### 2. –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ –≤ –ë–î:

```sql
-- –°–∫–æ–ª—å–∫–æ –∑–∞–ø—Ä–æ—Å–æ–≤ –∑–∞ —Å–µ–≥–æ–¥–Ω—è
SELECT 
  COUNT(*) as total_requests,
  SUM(CASE WHEN success THEN 1 ELSE 0 END) as successful,
  SUM(cost_thb) as total_cost_thb,
  model,
  COUNT(DISTINCT user_id) as unique_users
FROM chat_usage
WHERE created_at >= CURRENT_DATE
GROUP BY model;
```

### 3. –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –∫–∞–∫–∏–µ –º–æ–¥–µ–ª–∏ –∏—Å–ø–æ–ª—å–∑—É—é—Ç—Å—è:

```sql
-- –ö–∞–∫–∏–µ –º–æ–¥–µ–ª–∏ –∏—Å–ø–æ–ª—å–∑—É—é—Ç—Å—è
SELECT 
  model,
  COUNT(*) as count,
  SUM(input_tokens) as total_input_tokens,
  SUM(output_tokens) as total_output_tokens
FROM chat_usage
WHERE created_at >= CURRENT_DATE - INTERVAL '7 days'
GROUP BY model
ORDER BY count DESC;
```

---

## ‚ö†Ô∏è –í–ê–ñ–ù–û!

### –ë–µ—Å–ø–ª–∞—Ç–Ω—ã–µ –∫—Ä–µ–¥–∏—Ç—ã ($300):

- **–î–µ–π—Å—Ç–≤—É—é—Ç 90 –¥–Ω–µ–π** —Å –º–æ–º–µ–Ω—Ç–∞ –∞–∫—Ç–∏–≤–∞—Ü–∏–∏
- **–ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ —Å–ø–∏—Å—ã–≤–∞—é—Ç—Å—è** –ø—Ä–∏ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–∏
- **–ü–æ—Å–ª–µ –æ–∫–æ–Ω—á–∞–Ω–∏—è** ‚Üí –ø–ª–∞—Ç–Ω—ã–π –±–∏–ª–ª–∏–Ω–≥

### –†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏—è:

1. ‚úÖ **–ò—Å–ø–æ–ª—å–∑—É–π Flash –¥–ª—è free –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π** (—É–∂–µ –Ω–∞—Å—Ç—Ä–æ–µ–Ω–æ)
2. ‚úÖ **–ú–æ–Ω–∏—Ç–æ—Ä—å –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ** –≤ Google Cloud Console
3. ‚úÖ **–ù–∞—Å—Ç—Ä–æ–π –∞–ª–µ—Ä—Ç—ã** –∫–æ–≥–¥–∞ –∫—Ä–µ–¥–∏—Ç—ã –∑–∞–∫–∞–Ω—á–∏–≤–∞—é—Ç—Å—è

---

## üìù –ò–¢–û–ì

**‚úÖ –í–°–Å –ü–†–ê–í–ò–õ–¨–ù–û –ù–ê–°–¢–†–û–ï–ù–û!**

- –ë–µ—Å–ø–ª–∞—Ç–Ω—ã–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–∏ –∏—Å–ø–æ–ª—å–∑—É—é—Ç **Flash** (–¥–µ—à—ë–≤–∞—è –º–æ–¥–µ–ª—å)
- Premium –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–∏ –∏—Å–ø–æ–ª—å–∑—É—é—Ç **Pro** (–ø–ª–∞—Ç–Ω–∞—è –º–æ–¥–µ–ª—å)
- Fallback —Ç–æ–∂–µ **Flash** (–±–µ–∑–æ–ø–∞—Å–Ω–æ)

**–ë–µ—Å–ø–ª–∞—Ç–Ω—ã–µ –∫—Ä–µ–¥–∏—Ç—ã —Å–ø–∏—Å—ã–≤–∞—é—Ç—Å—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏** –ø—Ä–∏ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–∏ Vertex AI API.

**–î–ª—è –º–∞–∫—Å–∏–º–∞–ª—å–Ω–æ–π —ç–∫–æ–Ω–æ–º–∏–∏:**
- –ò—Å–ø–æ–ª—å–∑—É–π Flash –≤–µ–∑–¥–µ –≥–¥–µ –≤–æ–∑–º–æ–∂–Ω–æ
- –ú–æ–Ω–∏—Ç–æ—Ä—å –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ –≤ –∫–æ–Ω—Å–æ–ª–∏
- –ù–∞—Å—Ç—Ä–æ–π –∞–ª–µ—Ä—Ç—ã –Ω–∞ —Ä–∞—Å—Ö–æ–¥—ã
