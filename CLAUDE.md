# CLAUDE.md ‚Äî –ü—Ä–∞–≤–∏–ª–∞ –¥–ª—è AI-–∞–≥–µ–Ω—Ç–æ–≤

## üéØ –û –ü–†–û–ï–ö–¢–ï

**AI CITI | –ù–ï–ô–†–û–ì–û–†–û–î** ‚Äî –≥–µ–π–º–∏—Ñ–∏—Ü–∏—Ä–æ–≤–∞–Ω–Ω–∞—è –ø–ª–∞—Ç—Ñ–æ—Ä–º–∞ –¥–ª—è —Å–µ—Ç–µ–≤–∏–∫–æ–≤.
Telegram Mini App + Web + Desktop (–æ–¥–∏–Ω –∫–æ–¥).

**–¢–µ–∫—É—â–∏–π –º–æ–¥—É–ª—å:** –ù–ï–ô–†–û–ü–û–°–¢–ï–† ‚Äî –ø–ª–∞–Ω–∏—Ä–æ–≤—â–∏–∫ –ø—É–±–ª–∏–∫–∞—Ü–∏–π Instagram.

---

## üõ†Ô∏è –¢–ï–•–ù–û–õ–û–ì–ò–ß–ï–°–ö–ò–ô –°–¢–ï–ö (–°–¢–†–û–ì–û!)

```
Frontend:   React 18 + Vite + TypeScript
–°—Ç–∏–ª–∏:      TailwindCSS + shadcn/ui
–†–æ—É—Ç–∏–Ω–≥:    React Router 6
State:      Zustand
Backend:    Supabase Edge Functions (Deno)
–ë–∞–∑–∞:       Supabase PostgreSQL + RLS
Storage:    Supabase Storage
–î–µ–ø–ª–æ–π:     Vercel
```

### ‚õî –ù–ï –ò–°–ü–û–õ–¨–ó–û–í–ê–¢–¨:
- Next.js
- Express / Node.js backend
- –î—Ä—É–≥–∏–µ UI –±–∏–±–ª–∏–æ—Ç–µ–∫–∏ (—Ç–æ–ª—å–∫–æ shadcn/ui)
- CSS —Ñ–∞–π–ª—ã (—Ç–æ–ª—å–∫–æ Tailwind –∫–ª–∞—Å—Å—ã)

---

## üë• –ö–û–ú–ê–ù–î–ê –ê–ì–ï–ù–¢–û–í

| –ê–≥–µ–Ω—Ç | –ó–æ–Ω–∞ | –§–∞–π–ª—ã |
|-------|------|-------|
| **–ê–ù–Ø** | –ë–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö | `supabase/migrations/*.sql` |
| **–ë–û–†–Ø** | Backend | `supabase/functions/*` |
| **–í–ê–°–Ø** | Frontend | `src/**/*.tsx`, `src/**/*.ts` |

### ‚ö†Ô∏è –ö–†–ò–¢–ò–ß–ï–°–ö–û–ï –ü–†–ê–í–ò–õ–û:
**–û–¥–∏–Ω —Ñ–∞–π–ª = –æ–¥–∏–Ω –∞–≥–µ–Ω—Ç. –ê–≥–µ–Ω—Ç—ã –ù–ï –ø–µ—Ä–µ—Å–µ–∫–∞—é—Ç—Å—è!**

---

## üìÅ –°–¢–†–£–ö–¢–£–†–ê –ü–†–û–ï–ö–¢–ê

```
ai-citi/
‚îú‚îÄ‚îÄ src/
‚îÇ   ‚îú‚îÄ‚îÄ pages/              # –°—Ç—Ä–∞–Ω–∏—Ü—ã (—Ä–æ—É—Ç—ã)
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ Home.tsx
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ Profile.tsx
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ tools/
‚îÇ   ‚îÇ       ‚îî‚îÄ‚îÄ poster/     # –ù–ï–ô–†–û–ü–û–°–¢–ï–†
‚îÇ   ‚îú‚îÄ‚îÄ components/         # React –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ ui/             # shadcn/ui
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ poster/         # –ö–æ–º–ø–æ–Ω–µ–Ω—Ç—ã –ø–æ—Å—Ç–µ—Ä–∞
‚îÇ   ‚îú‚îÄ‚îÄ hooks/              # React —Ö—É–∫–∏
‚îÇ   ‚îú‚îÄ‚îÄ store/              # Zustand stores
‚îÇ   ‚îú‚îÄ‚îÄ lib/                # –£—Ç–∏–ª–∏—Ç—ã
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ supabase.ts
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ telegram.ts
‚îÇ   ‚îî‚îÄ‚îÄ types/              # TypeScript —Ç–∏–ø—ã
‚îÇ
‚îú‚îÄ‚îÄ supabase/
‚îÇ   ‚îú‚îÄ‚îÄ migrations/         # SQL –º–∏–≥—Ä–∞—Ü–∏–∏ (–ê–ù–Ø)
‚îÇ   ‚îî‚îÄ‚îÄ functions/          # Edge Functions (–ë–û–†–Ø)
‚îÇ
‚îú‚îÄ‚îÄ public/                 # –°—Ç–∞—Ç–∏–∫–∞
‚îú‚îÄ‚îÄ docs/                   # –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è
‚îî‚îÄ‚îÄ .cursor/                # –ù–∞—Å—Ç—Ä–æ–π–∫–∏ Cursor
```

---

## üé® –°–¢–ò–õ–¨ –ö–û–î–ê

### TypeScript
```typescript
// ‚úÖ –ü—Ä–∞–≤–∏–ª—å–Ω–æ
interface User {
  id: string
  telegramId: number
  username?: string
}

// ‚ùå –ù–µ–ø—Ä–∞–≤–∏–ª—å–Ω–æ
type User = {
  id: any
  telegram_id: number
}
```

### React –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã
```typescript
// ‚úÖ –ü—Ä–∞–≤–∏–ª—å–Ω–æ ‚Äî —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω—ã–µ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã + —Ö—É–∫–∏
export function PostCard({ post }: { post: Post }) {
  const [isLoading, setIsLoading] = useState(false)
  
  return (
    <div className="rounded-lg bg-white/10 p-4">
      {post.caption}
    </div>
  )
}

// ‚ùå –ù–µ–ø—Ä–∞–≤–∏–ª—å–Ω–æ ‚Äî –∫–ª–∞—Å—Å–æ–≤—ã–µ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã
class PostCard extends React.Component {}
```

### Tailwind –∫–ª–∞—Å—Å—ã
```tsx
// ‚úÖ –ü—Ä–∞–≤–∏–ª—å–Ω–æ
<button className="rounded-lg bg-primary px-4 py-2 text-white hover:bg-primary/90">

// ‚ùå –ù–µ–ø—Ä–∞–≤–∏–ª—å–Ω–æ ‚Äî inline styles
<button style={{ backgroundColor: 'orange' }}>
```

---

## üóÑÔ∏è –ë–ê–ó–ê –î–ê–ù–ù–´–• (Supabase)

### –ò–º–µ–Ω–æ–≤–∞–Ω–∏–µ —Ç–∞–±–ª–∏—Ü
- snake_case: `scheduled_posts`, `post_media`
- –í—Å–µ–≥–¥–∞ `id UUID PRIMARY KEY DEFAULT gen_random_uuid()`
- –í—Å–µ–≥–¥–∞ `created_at TIMESTAMPTZ DEFAULT NOW()`

### RLS –ø–æ–ª–∏—Ç–∏–∫–∏ (–û–ë–Ø–ó–ê–¢–ï–õ–¨–ù–û!)
```sql
ALTER TABLE posts ENABLE ROW LEVEL SECURITY;

CREATE POLICY "Users can manage own posts" ON posts
  FOR ALL USING (user_id = auth.uid());
```

---

## üîê –ü–ï–†–ï–ú–ï–ù–ù–´–ï –û–ö–†–£–ñ–ï–ù–ò–Ø

### –í .env.local (—Ñ—Ä–æ–Ω—Ç)
```env
VITE_SUPABASE_URL=https://xxx.supabase.co
VITE_SUPABASE_ANON_KEY=xxx
VITE_TELEGRAM_BOT_USERNAME=xxx
VITE_META_APP_ID=xxx
```

### –í Supabase Secrets (—Å–µ–∫—Ä–µ—Ç–Ω—ã–µ)
```bash
supabase secrets set TELEGRAM_BOT_TOKEN=xxx
supabase secrets set META_APP_SECRET=xxx
supabase secrets set INSTAGRAM_ACCESS_TOKEN=xxx
```

---

## ‚úÖ –ß–ï–ö–õ–ò–°–¢ –ü–ï–†–ï–î –ö–û–ú–ú–ò–¢–û–ú

1. [ ] `npm run build` –ø—Ä–æ—Ö–æ–¥–∏—Ç –±–µ–∑ –æ—à–∏–±–æ–∫
2. [ ] TypeScript –æ—à–∏–±–æ–∫ –Ω–µ—Ç
3. [ ] –ü—Ä–æ—Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–æ –≤ –±—Ä–∞—É–∑–µ—Ä–µ (Playwright)
4. [ ] –ö–æ–¥ —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤—É–µ—Ç —Å—Ç–∏–ª—é –ø—Ä–æ–µ–∫—Ç–∞
5. [ ] RLS –ø–æ–ª–∏—Ç–∏–∫–∏ –Ω–∞—Å—Ç—Ä–æ–µ–Ω—ã (–¥–ª—è SQL)

---

## üöÄ –ö–û–ú–ê–ù–î–´

```bash
# –†–∞–∑—Ä–∞–±–æ—Ç–∫–∞
npm run dev

# –°–±–æ—Ä–∫–∞
npm run build

# –ü—Ä–æ–≤–µ—Ä–∫–∞ —Ç–∏–ø–æ–≤
npm run typecheck

# –î–µ–ø–ª–æ–π Edge Functions
supabase functions deploy [function-name]

# –ü—Ä–∏–º–µ–Ω–∏—Ç—å –º–∏–≥—Ä–∞—Ü–∏–∏
supabase db push
```

---

## üìö –î–û–ö–£–ú–ï–ù–¢–ê–¶–ò–Ø

- `/docs/ROADMAP.md` ‚Äî –¥–æ—Ä–æ–∂–Ω–∞—è –∫–∞—Ä—Ç–∞
- `/docs/NEUROPOSTER_TZ.md` ‚Äî –¢–ó –Ω–∞ –ù–µ–π—Ä–æ–ø–æ—Å—Ç–µ—Ä
- `/docs/DATABASE.md` ‚Äî —Å—Ö–µ–º–∞ –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö

---

## üéØ –¢–ï–ö–£–©–ê–Ø –ó–ê–î–ê–ß–ê

**–§–∞–∑–∞ 1: –ò–Ω—Ñ—Ä–∞—Å—Ç—Ä—É–∫—Ç—É—Ä–∞ –ù–ï–ô–†–û–ü–û–°–¢–ï–†**

1. –ù–∞—Å—Ç—Ä–æ–∏—Ç—å Vite + React + TypeScript
2. –ü–æ–¥–∫–ª—é—á–∏—Ç—å Supabase
3. –°–æ–∑–¥–∞—Ç—å —Ç–∞–±–ª–∏—Ü—ã –¥–ª—è –ø–æ—Å—Ç–æ–≤
4. –ë–∞–∑–æ–≤—ã–π UI –ø–ª–∞–Ω–∏—Ä–æ–≤—â–∏–∫–∞
